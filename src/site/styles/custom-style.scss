/* Shared sidebar width (already working for you) */
:root{
  --dg-filetree-w: clamp(250px, 28vw, 320px);
  --dg-filetree-width: var(--dg-filetree-w); // Backward compatibility to keep filetree-wrapper and sidbard in sync in terms of width
  --dg-note-max-width: 1000px; /* â† adjust to taste */
}

/* Sidebar */
.filetree-wrapper{
  width: var(--dg-filetree-w) !important;
}

.filetree-sidebar{
  width: var(--dg-filetree-w);
  flex-shrink: 0;
}

/* NORMAL TEXT NOTES ONLY */
body:not(:has(.content.canvas-page))
     :not(:has(.excalidraw-wrapper))
     .markdown-preview-view{

  max-width: var(--dg-note-max-width);
  margin-left: auto !important;
  margin-right: auto !important;

  /* push past the sidebar */
  padding-left: var(--dg-filetree-w);
  padding-right: 32px; /* optional breathing room */
  box-sizing: border-box;
}

/* CANVAS + EXCALIDRAW: full width, no centering */
body:has(.content.canvas-page) .markdown-preview-view,
body:has(.excalidraw-wrapper) .markdown-preview-view{
  max-width: none !important;
  margin: 0 !important;
  padding-left: var(--dg-filetree-w);
  padding-right: 0;
}

/* Canvas text nodes: tighten inner spacing */
.canvas-node-text .canvas-node-text-content {
  padding: 0 !important;
}

/* Keep a tiny vertical buffer without triggering overflow */
.canvas-node-text .canvas-node-text-content p {
  margin: 1px 0 !important;
}

/* Only tighten line spacing when the text actually has a line break */
.canvas-wrapper .canvas-node-text-content p:has(br) {
  line-height: 1 !important;
}

.canvas-wrapper .canvas-node-text-content {
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;      /* vertical centering */
  justify-content: center;  /* horizontal centering */
  text-align: center;
  padding: 0 !important;
}

// makes sure canvas pages don't have padding to avoid scroll bar
main.content.cm-s-obsidian.canvas-page {
  padding-bottom: 0 !important;
}


body {
  --dg-content-max-width: 1000px;
}

/* 1. Excalidraw page fills the viewport */
main.content.cm-s-obsidian.excalidraw-page {
  height: 100vh;
  min-height: 0;
  overflow: hidden;
  padding: 0 !important;
  max-width: none !important;
  width: calc(100vw - var(--dg-filetree-w) - var(--dg-filetree-gap));
  margin-left: calc(var(--dg-filetree-w) + var(--dg-filetree-gap)) !important;
  margin-right: 0 !important;
  
}

/* 2. The markdown container MUST fill the page */
main.content.cm-s-obsidian.excalidraw-page > div[id$=".excalidraw.md"] {
  height: 100%;
  min-height: 0;
}

/* 3. Now the wrapper can safely be 100% */
main.content.cm-s-obsidian.excalidraw-page .excalidraw-wrapper {
  height: 100%;
  width: 100%;
  min-height: 0;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden;
}



.filetree-wrapper {
  width: calc(
    var(--dg-filetree-min-width) + var(--dg-filetree-gap)
              );
}



    /***
      ADD YOUR CUSTOM STYLING HERE. (INSIDE THE body {...} section.)
      IT WILL TAKE PRECEDENCE OVER THE STYLING IN THE STYLE.CSS FILE.
   ***/
    //  background-color: white;
    //  .content {
    //   font-size: 14px;
    //  }
    //  h1 {
    //   color: black;
    //  }
